I
<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Google Tag Manager -->
  <script>(function (w, d, s, l, i) {
      w[l] = w[l] || []; w[l].push({
        'gtm.start':
          new Date().getTime(), event: 'gtm.js'
      }); var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
          'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-T99DZFTJ');</script>
  <!-- End Google Tag Manager -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-4JHWT5588X"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-4JHWT5588X');
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description"
    content="LIT Group is a trusted fan remote OEM supplier in India. We provide tailored solutions for ceiling and smart fans with full feature support. Contact us today.">

  <title>Fan Remote OEM Supplier India | LIT Group Control Systems</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="../style.css" />
  <link rel="stylesheet" href="../mobile-enhancements.css" />
  <link rel="stylesheet" href="fan.css">
  <link rel="stylesheet" href="../shared-animations.css" />
  <link rel="icon" href="../favicon/cropped-favicon-1-192x192.webp" />
  <script src="../shared-animations.js" defer></script>


</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T99DZFTJ" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <div class="loader-container" id="loader">
    <div class="loader">
      <div class="loader-logo">
        <img src="../images/logo.webp" alt="LIT Group Logo" />
        <div class="loader-progress"></div>
      </div>
      <div class="loader-spinner"></div>
    </div>
  </div>
  <nav class="navbar">
    <div class="nav-container">
      <a href="../" class="logo">
        <img src="../images/logo.webp" alt="LIT Group Logo" />
      </a>

      <div class="nav-links">
        <a href="../">Home</a>
        <div class="dropdown">
          <button class="dropbtn">
            Products <i class="fas fa-chevron-down"></i>
          </button>
          <div class="dropdown-content">
            <a href="../ac-remotes/"><i class="fas fa-snowflake dropdown-icon"></i> HVAC Remotes</a>
            <a href="../smart-remote/"><i class="fas fa-tv dropdown-icon"></i> Smart Remotes</a>
            <a href="../fan-remotes/" class="active"><i class="fas fa-fan dropdown-icon"></i> Fan Remotes</a>
            <a href="../power-supply/"><i class="fa-solid fa-plug dropdown-icon"></i> Power Supply</a>
            <a href="../stb-remote/"><i class="fas fa-satellite-dish dropdown-icon"></i> STB Remotes</a>

          </div>
        </div>
        <div class="dropdown">
          <button class="dropbtn">
            Services<i class="fas fa-chevron-down"></i>
          </button>
          <div class="dropdown-content">
            <a href="../ems/"><i class="fas fa-industry dropdown-icon"></i> EMS</a>
          </div>
        </div>
        <a href="../about/">About Us</a>
        <a href="../events/">Events</a>
        <a href="../blog/">Blogs</a>
        <a href="../contact/">Contact Us</a>
      </div>

      <div class="mobile-menu-btn">
        <i class="fas fa-bars"></i>
      </div>
    </div>
  </nav>

  <!-- Fan Hero Section -->
  <section class="fan-hero">
    <!-- Floating decorative shapes -->
    <div class="hero-floating-shape shape-1"></div>
    <div class="hero-floating-shape shape-2"></div>
    <div class="hero-floating-shape shape-3"></div>
    <div class="hero-content-wrapper-new">
      <!-- Centered Title at Top -->
      <div class="hero-title-centered">
        <span class="hero-badge">Intuitive Design</span>
        <h1 class="hero-headline-centered">
          Effortless Control <br />
          for Every Fan
        </h1>
      </div>

      <!-- Two Column Section Below -->
      <div class="hero-two-column">
        <!-- Left: Remote Image -->
        <div class="hero-image-column">
          <div class="hero-image-container-new">
            <img src="image/FanBackground.webp" alt="Fan Remote" class="remote-image-new" />
          </div>
        </div>

        <!-- Right: Text + Button -->
        <div class="hero-text-column">
          <p class="hero-description-new">
            Advanced remote solutions designed for modern ceiling, pedestal and table fans with intuitive operation and
            energy-saving features
          </p>
          <a href="#fan-models" class="hero-cta-new">Explore Models</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Premium Series Showcase -->
  <section class="custom-solutions">
    <div class="section-header">
      <h2>Premium Series Fan Remotes</h2>
      <p>Advanced features for exceptional control</p>
    </div>

    <div class="solutions-grid">
      <div class="solution-card" data-animate="left" data-index="0">
        <div class="solution-icon">
          <i class="fas fa-wind"></i>
        </div>
        <h3>Natural Breeze Mode</h3>
        <p>
          Simulates natural wind patterns by automatically varying fan speeds for a more refreshing experience
        </p>
      </div>

      <div class="solution-card" data-animate="left" data-index="1">
        <div class="solution-icon">
          <i class="fas fa-sync-alt"></i>
        </div>
        <h3>Reverse Operation</h3>
        <p>
          Change fan rotation direction to improve air circulation and efficiency in different seasons
        </p>
      </div>

      <div class="solution-card" data-animate="right" data-index="2">
        <div class="solution-icon">
          <i class="fas fa-lightbulb"></i>
        </div>
        <h3>Light Control</h3>
        <p>
          Integrated controls for fan lights with dimming capability and color temperature adjustment
        </p>
      </div>

      <div class="solution-card" data-animate="right" data-index="3">
        <div class="solution-icon">
          <i class="fas fa-mobile-alt"></i>
        </div>
        <h3>Smart Home Ready</h3>
        <p>
          Compatible with smart home systems for voice control and automation integration
        </p>
      </div>
    </div>
  </section>


  <!-- Fan Remotes Collection Section -->
  <section id="fan-models" class="stb-collection-section">
    <div class="collection-container">
      <h2 class="collection-title">Our Fan Remote Collection</h2>

      <div class="carousel-container">
        <button class="carousel-btn carousel-arrow carousel-arrow-left" aria-label="Previous cards">
          <i class="fas fa-chevron-left arrow-icon"></i>
        </button>

        <div class="carousel-track">
          <!-- Card 1 - L56 -->
          <div class="collection-card carousel-card" data-original="true">
            <div class="collection-card-image-wrapper">
              <img src="image/Atomberg/Atomberg Remote 001.2270.webp" alt="L56 Fan Remote"
                class="collection-card-image" />
            </div>
            <div class="collection-card-content">
              <h3 class="collection-card-title">L56</h3>
              <p class="collection-card-subtitle">Premium Control</p>
            </div>
          </div>

          <!-- Card 2 - L48 -->
          <div class="collection-card carousel-card" data-original="true">
            <div class="collection-card-image-wrapper">
              <img src="image/Orient/Orient Fan.2312.webp" alt="L48 Fan Remote" class="collection-card-image" />
            </div>
            <div class="collection-card-content">
              <h3 class="collection-card-title">L48</h3>
              <p class="collection-card-subtitle">Classic Design</p>
            </div>
          </div>

          <!-- Card 3 - L91 -->
          <div class="collection-card carousel-card" data-original="true">
            <div class="collection-card-image-wrapper">
              <img src="image/havells/Havells Pebble Remote.2320.webp" alt="L91 Fan Remote"
                class="collection-card-image" />
            </div>
            <div class="collection-card-content">
              <h3 class="collection-card-title">L91</h3>
              <p class="collection-card-subtitle">Universal Compatibility</p>
            </div>
          </div>

          <!-- Card 4 - FR1 -->
          <div class="collection-card carousel-card" data-original="true">
            <div class="collection-card-image-wrapper">
              <img src="image/Fan Remote 1/1 (1).webp" alt="FR1 Fan Remote" class="collection-card-image" />
            </div>
            <div class="collection-card-content">
              <h3 class="collection-card-title">FR1</h3>
              <p class="collection-card-subtitle">Modern Design</p>
            </div>
          </div>

          <!-- Card 5 - FR2 -->
          <div class="collection-card carousel-card" data-original="true">
            <div class="collection-card-image-wrapper">
              <img src="image/Fan Remote 2/2 (1).webp" alt="FR2 Fan Remote" class="collection-card-image" />
            </div>
            <div class="collection-card-content">
              <h3 class="collection-card-title">FR2</h3>
              <p class="collection-card-subtitle">Sleek Control</p>
            </div>
          </div>

          <!-- Card 6 - FR3 -->
          <div class="collection-card carousel-card" data-original="true">
            <div class="collection-card-image-wrapper">
              <img src="image/Fan Remote 3/3.webp" alt="FR3 Fan Remote" class="collection-card-image" />
            </div>
            <div class="collection-card-content">
              <h3 class="collection-card-title">FR3</h3>
              <p class="collection-card-subtitle">Advanced Features</p>
            </div>
          </div>

          <!-- Card 7 - FR4 -->
          <div class="collection-card carousel-card" data-original="true">
            <div class="collection-card-image-wrapper">
              <img src="image/Fan Remote 4/4.webp" alt="FR4 Fan Remote" class="collection-card-image" />
            </div>
            <div class="collection-card-content">
              <h3 class="collection-card-title">FR4</h3>
              <p class="collection-card-subtitle">Premium Quality</p>
            </div>
          </div>
        </div>

        <button class="carousel-btn carousel-arrow carousel-arrow-right" aria-label="Next cards">
          <i class="fas fa-chevron-right arrow-icon"></i>
        </button>
      </div>
    </div>
  </section>

  <!-- Benefits Section -->
  <section class="fan-benefits">
    <div class="benefits-container">
      <div class="section-header">
        <h2>Why Choose Our Fan Remotes</h2>
        <p>Experience the perfect blend of design, functionality and convenience</p>
      </div>

      <div class="benefits-grid">
        <div class="benefit-card" data-animate="left" data-index="0">
          <div class="benefit-icon">
            <i class="fas fa-tachometer-alt"></i>
          </div>
          <h3>Precise Speed Control</h3>
          <p>Multiple speed settings from gentle breeze to powerful airflow with fine adjustment capabilities</p>
        </div>

        <div class="benefit-card" data-animate="right" data-index="1">
          <div class="benefit-icon">
            <i class="fas fa-bolt"></i>
          </div>
          <h3>Energy Efficient</h3>
          <p>Smart features that optimize energy consumption while maintaining comfort</p>
        </div>

        <div class="benefit-card" data-animate="left" data-index="2">
          <div class="benefit-icon">
            <i class="fas fa-moon"></i>
          </div>
          <h3>Sleep Mode</h3>
          <p>Intelligently adjusts fan speed throughout the night for optimal sleeping comfort</p>
        </div>

        <div class="benefit-card" data-animate="right" data-index="3">
          <div class="benefit-icon">
            <i class="fas fa-clock"></i>
          </div>
          <h3>Timer Function</h3>
          <p>Preset operation times to automatically turn off your fan when desired</p>
        </div>

        <div class="benefit-card" data-animate="left" data-index="4">
          <div class="benefit-icon">
            <i class="fas fa-broadcast-tower"></i>
          </div>
          <h3>Extended Range</h3>
          <p>Superior signal strength for controlling your fan from anywhere in the room</p>
        </div>

        <div class="benefit-card" data-animate="right" data-index="5">
          <div class="benefit-icon">
            <i class="fas fa-battery-full"></i>
          </div>
          <h3>Long Battery Life</h3>
          <p>Optimized power management for extended operation between battery replacements</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Our Trusted Clients Section -->
  <section class="partners">
    <div class="section-header">
      <h2>Our Trusted Clients</h2>
      <p>We work with world's leading technology and home appliance brands</p>
    </div>

    <div class="logos-marquee">
      <div class="embed w-embed">
        <style>
          /* Animation for the first right to left marquee */
          @keyframes slide {
            from {
              transform: translateX(0);
            }

            to {
              transform: translateX(-100%);
            }
          }

          .logo-animate {
            animation: slide 20s infinite linear;
            will-change: transform;
            display: flex;
            gap: 2rem;
          }

          /* Animation for the second left to right marquee */
          @keyframes slidealt {
            from {
              transform: translateX(0);
            }

            to {
              transform: translateX(-100%);
            }
          }

          .logo-animate-alt {
            animation: slidealt 20s infinite linear;
            will-change: transform;
            animation-direction: reverse;
            display: flex;
            gap: 2rem;
          }
        </style>
      </div>

      <div class="home-logo-wrapper">
        <div class="clients-grid logo-animate">
          <img src="image/logo/Orient_Logo_2x_906fb550-c200-42e5-b9e7-f6375c0bcdab.avif" loading="eager" alt="Orient"
            class="client-logo featured" />
          <img src="image/logo/Atomberg logo - Brandlogos.net.svg" loading="eager" alt="Atomberg"
            class="client-logo featured" />
          <img src="image/logo/Havells_Logo.svg.webp" loading="eager" alt="Havells" class="client-logo featured" />
          <img src="../images/Logos/Crompton-Logo-Vector.webp" loading="eager" alt="Crompton"
            class="client-logo featured" />
          <img src="../images/Logos/Bajaj-Logo.webp" loading="eager" alt="Bajaj" class="client-logo" />
          <img src="../images/Logos/RR.webp" loading="eager" alt="RR Kabels" class="client-logo" />
        </div>
        <div class="clients-grid logo-animate">
          <img src="image/logo/Orient_Logo_2x_906fb550-c200-42e5-b9e7-f6375c0bcdab.avif" loading="eager" alt="Orient"
            class="client-logo featured" />
          <img src="image/logo/Atomberg logo - Brandlogos.net.svg" loading="eager" alt="Atomberg"
            class="client-logo featured" />
          <img src="image/logo/Havells_Logo.svg.webp" loading="eager" alt="Havells" class="client-logo featured" />
          <img src="../images/Logos/Crompton-Logo-Vector.webp" loading="eager" alt="Crompton"
            class="client-logo featured" />
          <img src="../images/Logos/Bajaj-Logo.webp" loading="eager" alt="Bajaj" class="client-logo" />
          <img src="../images/Logos/RR.webp" loading="eager" alt="RR Kabels" class="client-logo" />
        </div>
        <div class="home-logo-left-gradient"></div>
        <div class="home-logo-left-gradient right"></div>
      </div>
    </div>
  </section>

  <!-- Call to Action -->
  <section class="cta">
    <div class="cta-content">
      <h2>Ready to enhance your fan control experience?</h2>
      <p>Contact us today to learn more about our fan remote solutions</p>
      <a href="../contact/" class="btn glow">Contact Us</a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-grid">
        <div class="footer-column">
          <div class="footer-logo-container">
            <img src="../images/logo.webp" alt="LIT Group Logo" class="footer-logo" />
          </div>
          <p>Leading Remote Manufacturer with OEM and ODM Expertise.</p>
          <div class="social-links desktop-social">
            <a href="https://x.com/litgroupindia" target="_blank"><img src="../images/icons/twitter (1).webp"
                alt="" /></a>
            <a href="https://www.linkedin.com/company/litgroupindia/" target="_blank"><i
                class="fab fa-linkedin"></i></a>
            <a href="https://www.instagram.com/litgroupindia" target="_blank"><i class="fab fa-instagram"></i></a>
            <a href="https://www.facebook.com/litgroupindia/" target="_blank"><i class="fab fa-facebook"></i></a>
            <a href="https://youtube.com/@litgroupindia?si=T0yL8S8HF-VqZqZw" target="_blank"><i
                class="fab fa-youtube"></i></a>
          </div>
        </div>

        <div class="footer-column">
          <h4>Products</h4>
          <ul class="grid-2x2">
            <li><a href="../ac-remotes/">HVAC Remotes</a></li>
            <li><a href="../smart-remote/">Smart Remotes</a></li>
            <li><a href="../fan-remotes/">Fan Remotes</a></li>
            <li><a href="../power-supply/">Power Supply</a></li>
            <li><a href="../stb-remote/">STB Remotes</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Services</h4>
          <ul>
            <li><a href="../ems/">EMS</a></li>
          </ul>
        </div>

        <div class="footer-column">
          <h4>Company</h4>
          <ul class="grid-2x2">
            <li><a href="../about/">About Us</a></li>
            <li><a href="../blog/">Blogs</a></li>
            <!-- <li><a href="#">Careers</a></li> -->
            <li><a href="../contact/">Contact</a></li>
            <li><a href="../feedback/">Feedback</a></li>
            <li><a href="https://litpayments.in/" target="_blank" rel="noopener">Payments</a></li>
          </ul>
        </div>

        <!-- <div class="footer-column">
            <h4>Support</h4>
            <ul>
              <li><a href="#">Technical Support</a></li>
              <li><a href="#">User Manuals</a></li>
              <li><a href="#">FAQs</a></li>
              <li><a href="#">Privacy Policy</a></li>
            </ul>
          </div> -->

        <div class="footer-column">
          <h4>Contact Us</h4>
          <ul>
            <li>LIT INDIA PVT. LTD</li>
            <li>
              <a href="mailto:contact@litgroup.in">contact@litgroup.in</a>
            </li>
            <li>
              <a href="https://www.google.com/maps/place/LIT+India+Private+Limited+(Unit-2)/@28.5539358,77.4042305,17z/data=!3m1!4b1!4m6!3m5!1s0x390cef751054616b:0x63de60f43bdde662!8m2!3d28.5539311!4d77.4068054!16s%2Fg%2F11vmb3f29y?entry=ttu&g_ep=EgoyMDI1MDQwOC4wIKXMDSoJLDEwMjExNDUzSAFQAw%3D%3D"
                target="_blank">A-124, Sector 80, Noida, INDIA</a>
            </li>
            <li>
              <a href="https://www.google.co.in/maps/place/LIT+Plasto+Tech/@28.5548696,77.4086868,17z/data=!3m1!4b1!4m6!3m5!1s0x390cef128b41db1d:0xcb4f69d333df667f!8m2!3d28.5548649!4d77.4112617!16s%2Fg%2F11lkskrb8l?entry=ttu&g_ep=EgoyMDI1MDQwOS4wIKXMDSoASAFQAw%3D%3D"
                target="_blank">A-31, Sector 80 Noida, INDIA</a>
            </li>
            <li>
              <a href="https://www.google.com/maps/place/LIT+India+Private+Limited/@28.5308343,77.4205149,17z/data=!3m1!4b1!4m6!3m5!1s0x390ce8df9ef585bf:0x34b92ab17d559b03!8m2!3d28.5308296!4d77.4230898!16s%2Fg%2F11bbrl6hwg?entry=ttu&g_ep=EgoyMDI1MDQwOS4wIKXMDSoASAFQAw%3D%3D"
                target="_blank">B-52, Sector 88, Noida, INDIA</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="certifications">
        <h4>Certifications</h4>
        <div class="certification-list">
          <div class="certification-item">
            <i class="fas fa-certificate"></i>
            <span>ISO 9001:2015</span>
          </div>
          <div class="certification-item">
            <i class="fas fa-leaf"></i>
            <span>ISO 14001:2015</span>
          </div>
          <div class="certification-item">
            <i class="fas fa-hard-hat"></i>
            <span>ISO 45001:2018</span>
          </div>
          <div class="certification-item">
            <i class="fas fa-shield-alt"></i>
            <span>ISO 27001:2022</span>
          </div>
        </div>
      </div>

      <!-- Mobile social links placed below certifications -->
      <div class="social-links mobile-social" aria-hidden="true">
        <a href="https://x.com/litgroupindia" target="_blank"><img src="../images/icons/twitter (1).webp" alt="" /></a>
        <a href="https://www.linkedin.com/company/litgroupindia/" target="_blank"><i class="fab fa-linkedin"></i></a>
        <a href="https://www.instagram.com/litgroupindia" target="_blank"><i class="fab fa-instagram"></i></a>
        <a href="https://www.facebook.com/litgroupindia/" target="_blank"><i class="fab fa-facebook"></i></a>
        <a href="https://youtube.com/@litgroupindia?si=T0yL8S8HF-VqZqZw" target="_blank"><i
            class="fab fa-youtube"></i></a>
      </div>



      <div class="footer-bottom">
        <p>&copy;
          <script>document.write(new Date().getFullYear())</script> LIT Group. All rights reserved.
        </p>

      </div>
    </div>
  </footer>

  <!-- Remote Details Modal -->
  <div class="remote-modal" id="remoteModal">
    <div class="remote-modal-backdrop"></div>
    <div class="remote-modal-content">
      <button class="remote-modal-close" aria-label="Close modal">
        <i class="fas fa-times"></i>
      </button>
      <div class="remote-modal-body">
        <div class="remote-modal-image-section">
          <div class="modal-image-carousel">
            <div class="modal-image-main">
              <img id="modalRemoteImage" src="" alt="" class="modal-remote-image" />
            </div>
            <div class="modal-image-thumbnails" id="modalImageThumbnails">
              <!-- Thumbnails will be populated by JavaScript -->
            </div>
            <button class="modal-carousel-btn modal-carousel-prev" aria-label="Previous image">
              <i class="fas fa-chevron-left"></i>
            </button>
            <button class="modal-carousel-btn modal-carousel-next" aria-label="Next image">
              <i class="fas fa-chevron-right"></i>
            </button>
          </div>
        </div>
        <div class="remote-modal-info-section">
          <h2 id="modalRemoteTitle" class="modal-remote-title"></h2>
          <p id="modalRemoteSubtitle" class="modal-remote-subtitle"></p>
          <div id="modalRemoteDescription" class="modal-remote-description"></div>
          <div class="modal-remote-specs">
            <h3 class="specs-title">Specifications</h3>
            <div id="modalRemoteSpecs" class="specs-grid"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Coming Soon Popup -->
  <div id="coming-soon-popup" class="popup-overlay">
    <div class="popup-content">
      <span class="close-popup">&times;</span>
      <div class="popup-body">
        <i class="fas fa-clock popup-icon"></i>
        <h3>Coming Soon!</h3>
        <p>We're working on this page. Check back later for updates.</p>
      </div>
    </div>
  </div>

  <script src="../script.js"></script>
  <script src="fan.js"></script>
  <script>

    // Utilities
    const now = () => performance.now();
    function animateScroll(startY, endY, duration, cb) {
      const startTime = now();
      function frame() {
        const t = Math.min(1, (now() - startTime) / duration);
        const eased = EASING(t);
        scrollContainer.scrollTop = Math.round(startY + (endY - startY) * eased);
        if (t < 1) {
          requestId = requestAnimationFrame(frame);
        } else {
          cb && cb();
        }
      }
      let requestId = requestAnimationFrame(frame);
      return () => cancelAnimationFrame(requestId);
    }

    // Find sections and helper functions
    function getNearestSectionIndex(scrollY) {
      let bestIdx = 0;
      let bestDiff = Infinity;
      sections.forEach((s, i) => {
        const rect = s.getBoundingClientRect();
        const containerRect = scrollContainer.getBoundingClientRect();
        const top = scrollContainer.scrollTop + (rect.top - containerRect.top);
        const diff = Math.abs(top - scrollY);
        if (diff < bestDiff) {
          bestDiff = diff;
          bestIdx = i;
        }
      });
      return bestIdx;
    }

    // State
    let isAnimating = false;
    let lastActionTime = 0;
    let cancelAnimation = null;

    // Core function to scroll to section index
    function scrollToSection(index) {
      index = Math.max(0, Math.min(sections.length - 1, index));
      const rect = sections[index].getBoundingClientRect();
      const containerRect = scrollContainer.getBoundingClientRect();
      const destTop = scrollContainer.scrollTop + (rect.top - containerRect.top);
      const currentScroll = scrollContainer.scrollTop;
      if (Math.abs(currentScroll - destTop) < 2) return;
      if (cancelAnimation) cancelAnimation();
      isAnimating = true;
      lastActionTime = Date.now();
      cancelAnimation = animateScroll(currentScroll, destTop, DURATION, () => {
        isAnimating = false;
        cancelAnimation = null;
      });
    }

    // Determine next/prev
    function goNext() {
      const currentIndex = getNearestSectionIndex(scrollContainer.scrollTop);
      const nextIndex = Math.min(sections.length - 1, currentIndex + 1);
      if (nextIndex !== currentIndex) scrollToSection(nextIndex);
    }
    function goPrev() {
      const currentIndex = getNearestSectionIndex(scrollContainer.scrollTop);
      const prevIndex = Math.max(0, currentIndex - 1);
      if (prevIndex !== currentIndex) scrollToSection(prevIndex);
    }

    // Wheel/trackpad handling
    let wheelTimeout;
    scrollContainer.addEventListener('wheel', function (e) {
      if (isAnimating) {
        if (Math.abs(e.deltaY) > 120) {
          if (cancelAnimation) cancelAnimation();
          isAnimating = false;
          cancelAnimation = null;
        } else {
          e.preventDefault();
          return;
        }
      }
      if (Math.abs(e.deltaY) < QUIET_PERIOD) return;

      e.preventDefault();
      clearTimeout(wheelTimeout);
      wheelTimeout = setTimeout(() => {
        if (e.deltaY > 0) {
          if (Date.now() - lastActionTime > DEBOUNCE) goNext();
        } else {
          if (Date.now() - lastActionTime > DEBOUNCE) goPrev();
        }
      }, 10);
    }, { passive: false });

    // Keyboard support
    window.addEventListener('keydown', function (e) {
      if (isAnimating) return;
      if (['ArrowDown', 'PageDown'].includes(e.code)) {
        e.preventDefault();
        goNext();
      } else if (['ArrowUp', 'PageUp'].includes(e.code)) {
        e.preventDefault();
        goPrev();
      } else if (e.code === 'Home') {
        e.preventDefault();
        scrollToSection(0);
      } else if (e.code === 'End') {
        e.preventDefault();
        scrollToSection(sections.length - 1);
      }
    });

    // Touch handling
    let touchStartY = null;
    let touchStartTime = 0;
    scrollContainer.addEventListener('touchstart', function (e) {
      if (e.touches && e.touches.length === 1) {
        touchStartY = e.touches[0].clientY;
        touchStartTime = Date.now();
        if (cancelAnimation) { cancelAnimation(); isAnimating = false; cancelAnimation = null; }
      }
    }, { passive: true });

    scrollContainer.addEventListener('touchend', function (e) {
      if (touchStartY === null) return;
      const dy = (e.changedTouches[0].clientY - touchStartY);
      const dt = Date.now() - touchStartTime;
      const velocity = Math.abs(dy / dt);
      touchStartY = null;
      if (Math.abs(dy) < 30 && velocity < 0.15) return;
      if (dy < 0) {
        if (Date.now() - lastActionTime > DEBOUNCE) goNext();
      } else {
        if (Date.now() - lastActionTime > DEBOUNCE) goPrev();
      }
    }, { passive: true });

    // Section Focus Behavior
    (function () {
      const observerOptions = {
        root: scrollContainer,
        rootMargin: '-25% 0px -25% 0px',
        threshold: [0, 0.3, 0.5, 0.7, 1.0]
      };

      let currentActiveIndex = 0;

      const observer = new IntersectionObserver((entries) => {
        let maxRatio = 0;
        let activeEntry = null;

        entries.forEach(entry => {
          if (entry.intersectionRatio > maxRatio) {
            maxRatio = entry.intersectionRatio;
            activeEntry = entry;
          }
        });

        if (activeEntry && activeEntry.intersectionRatio > 0.3) {
          sections.forEach((section, index) => {
            section.classList.remove('section-active');
            if (section === activeEntry.target) {
              currentActiveIndex = index;
            }
          });
          activeEntry.target.classList.add('section-active');
        }
      }, observerOptions);

      sections.forEach(section => {
        observer.observe(section);
      });

      if (sections.length > 0) {
        sections[0].classList.add('section-active');
        currentActiveIndex = 0;
      }

      scrollContainer.addEventListener('scroll', () => {
        const scrollTop = scrollContainer.scrollTop;
        const sectionHeight = window.innerHeight;
        const newActiveIndex = Math.round(scrollTop / sectionHeight);

        if (newActiveIndex !== currentActiveIndex && newActiveIndex >= 0 && newActiveIndex < sections.length) {
          sections.forEach(section => {
            section.classList.remove('section-active');
          });
          sections[newActiveIndex].classList.add('section-active');
          currentActiveIndex = newActiveIndex;
        }
      }, { passive: true });
    })();

    // Recalculate on resize
    window.addEventListener('resize', function () {
      const idx = getNearestSectionIndex(scrollContainer.scrollTop);
      setTimeout(() => scrollToSection(idx), 120);
    });

    // Snap to nearest section on load
    window.addEventListener('load', function () {
      const idx = getNearestSectionIndex(scrollContainer.scrollTop);
      setTimeout(() => scrollToSection(idx), 200);
    });
  </script>

  <!-- Scroll-triggered animations for elements -->
  <script>
    (function () {
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initAnimations);
      } else {
        initAnimations();
      }

      function initAnimations() {
        const animatedElements = document.querySelectorAll('[data-animate]');

        if (animatedElements.length === 0) return;

        const observerOptions = {
          threshold: 0.1,
          rootMargin: '50px' // Trigger earlier
        };

        // Track animated elements to prevent re-triggering
        const animatedSet = new Set();

        // Check if elements are already visible on page load
        function checkInitialVisibility() {
          animatedElements.forEach(element => {
            const rect = element.getBoundingClientRect();
            const isVisible = rect.top < window.innerHeight && rect.bottom > 0;
            if (isVisible && !animatedSet.has(element)) {
              animatedSet.add(element);
              element.classList.add('animate-in');
            }
          });
        }

        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            // Only animate if intersecting and hasn't been animated yet
            if (entry.isIntersecting && !animatedSet.has(entry.target)) {
              animatedSet.add(entry.target);
              entry.target.classList.add('animate-in');
              observer.unobserve(entry.target);
            }
          });
        }, observerOptions);

        animatedElements.forEach(element => {
          observer.observe(element);
        });

        // Check initial visibility after a short delay
        setTimeout(checkInitialVisibility, 100);
      }
    })();
  </script>

  <!-- Apple-Style Horizontal Scrolling Carousel Script -->
  <script>
    (function () {
      const carouselContainer = document.querySelector('.carousel-container');
      const carouselTrack = document.querySelector('.carousel-track');
      const leftArrow = document.querySelector('.carousel-arrow-left');
      const rightArrow = document.querySelector('.carousel-arrow-right');
      const allCards = document.querySelectorAll('.carousel-card[data-original="true"]');

      if (!carouselContainer || !carouselTrack || !leftArrow || !rightArrow || allCards.length === 0) return;

      // Constants
      const ORIGINAL_CARD_COUNT = 7; // 7 Fan remote cards
      const CARD_GAP = 24;
      const EASING = 'cubic-bezier(0.22, 0.61, 0.36, 1)';
      const SCROLL_DURATION = 600;

      // State
      let cardWidth = 0;
      let totalCardWidth = 0;
      let currentScrollPosition = 0;
      let isScrolling = false;
      let isDragging = false;
      let dragStartX = 0;
      let dragStartScroll = 0;
      let velocity = 0;
      let lastScrollTime = 0;
      let lastScrollPosition = 0;
      let animationFrameId = null;

      const originalCards = Array.from(allCards).slice(0, ORIGINAL_CARD_COUNT);

      function calculateCardWidth() {
        if (originalCards.length === 0) return;
        const firstCard = originalCards[0];
        const cardRect = firstCard.getBoundingClientRect();
        cardWidth = cardRect.width;
        totalCardWidth = cardWidth + CARD_GAP;
        return totalCardWidth;
      }

      function easeInOutCubic(t) {
        return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;
      }

      function setupInfiniteLoop() {
        const existingClones = carouselTrack.querySelectorAll('[data-clone]');
        existingClones.forEach(clone => clone.remove());

        originalCards.forEach(card => {
          const clone = card.cloneNode(true);
          clone.setAttribute('data-clone', 'end');
          carouselTrack.appendChild(clone);
        });

        originalCards.slice().reverse().forEach(card => {
          const clone = card.cloneNode(true);
          clone.setAttribute('data-clone', 'start');
          carouselTrack.insertBefore(clone, carouselTrack.firstChild);
        });

        calculateCardWidth();

        const startClonesWidth = ORIGINAL_CARD_COUNT * totalCardWidth;
        currentScrollPosition = startClonesWidth;
        carouselTrack.style.transition = 'none';
        carouselTrack.style.transform = `translateX(-${currentScrollPosition}px)`;
        void carouselTrack.offsetWidth;
        carouselTrack.style.transition = '';
      }

      function smoothScrollTo(targetPosition, duration = SCROLL_DURATION) {
        if (isScrolling) return;

        const startPosition = currentScrollPosition;
        const distance = targetPosition - startPosition;
        const startTime = performance.now();

        isScrolling = true;

        function animate(currentTime) {
          const elapsed = currentTime - startTime;
          const progress = Math.min(elapsed / duration, 1);
          const eased = easeInOutCubic(progress);

          currentScrollPosition = startPosition + (distance * eased);
          carouselTrack.style.transform = `translateX(-${currentScrollPosition}px)`;

          checkInfiniteLoop();

          if (progress < 1) {
            animationFrameId = requestAnimationFrame(animate);
          } else {
            isScrolling = false;
            checkInfiniteLoop();
            updateGradientFades();
          }
        }

        animationFrameId = requestAnimationFrame(animate);
      }

      function checkInfiniteLoop() {
        if (totalCardWidth === 0) return;

        const startClonesWidth = ORIGINAL_CARD_COUNT * totalCardWidth;
        const originalSetWidth = ORIGINAL_CARD_COUNT * totalCardWidth;

        if (currentScrollPosition >= startClonesWidth + originalSetWidth) {
          carouselTrack.style.transition = 'none';
          currentScrollPosition = startClonesWidth;
          carouselTrack.style.transform = `translateX(-${currentScrollPosition}px)`;
          void carouselTrack.offsetWidth;
          carouselTrack.style.transition = '';
        } else if (currentScrollPosition < startClonesWidth) {
          carouselTrack.style.transition = 'none';
          currentScrollPosition = startClonesWidth + originalSetWidth - totalCardWidth;
          carouselTrack.style.transform = `translateX(-${currentScrollPosition}px)`;
          void carouselTrack.offsetWidth;
          carouselTrack.style.transition = '';
        }
      }

      function updateGradientFades() {
        if (totalCardWidth === 0) return;

        const startClonesWidth = ORIGINAL_CARD_COUNT * totalCardWidth;
        const originalSetWidth = ORIGINAL_CARD_COUNT * totalCardWidth;

        if (currentScrollPosition <= startClonesWidth + 10) {
          carouselContainer.classList.add('at-start');
        } else {
          carouselContainer.classList.remove('at-start');
        }

        if (currentScrollPosition >= startClonesWidth + originalSetWidth - 10) {
          carouselContainer.classList.add('at-end');
        } else {
          carouselContainer.classList.remove('at-end');
        }
      }

      function scrollByCard(direction) {
        if (isScrolling || totalCardWidth === 0) return;
        const targetPosition = currentScrollPosition + (direction * totalCardWidth);
        smoothScrollTo(targetPosition);
      }

      leftArrow.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        scrollByCard(-1);
      });

      rightArrow.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        scrollByCard(1);
      });

      let wheelTimeout;
      let wheelAccumulator = 0;

      carouselContainer.addEventListener('wheel', (e) => {
        const isHorizontal = Math.abs(e.deltaX) > Math.abs(e.deltaY);
        const isShiftPressed = e.shiftKey;

        if (isHorizontal || isShiftPressed) {
          e.preventDefault();
          const delta = isHorizontal ? e.deltaX : e.deltaY;
          wheelAccumulator += delta;

          clearTimeout(wheelTimeout);
          wheelTimeout = setTimeout(() => {
            if (isScrolling || totalCardWidth === 0) {
              wheelAccumulator = 0;
              return;
            }

            const cardIncrements = Math.round(wheelAccumulator / 100);
            if (cardIncrements !== 0) {
              const targetPosition = currentScrollPosition + (cardIncrements * totalCardWidth);
              smoothScrollTo(targetPosition, 400);
              wheelAccumulator = 0;
            }
          }, 50);
        }
      }, { passive: false });

      let touchStartX = 0;
      let touchStartScroll = 0;
      let isTouching = false;

      carouselTrack.addEventListener('touchstart', (e) => {
        if (animationFrameId) {
          cancelAnimationFrame(animationFrameId);
          animationFrameId = null;
        }
        isScrolling = false;
        isTouching = true;
        touchStartX = e.touches[0].clientX;
        touchStartScroll = currentScrollPosition;
      }, { passive: true });

      carouselTrack.addEventListener('touchmove', (e) => {
        if (!isTouching) return;
        e.preventDefault();

        const touchX = e.touches[0].clientX;
        const deltaX = touchStartX - touchX;
        currentScrollPosition = touchStartScroll + deltaX;
        carouselTrack.style.transform = `translateX(-${currentScrollPosition}px)`;
        carouselTrack.style.transition = 'none';

        checkInfiniteLoop();

        const now = performance.now();
        velocity = (currentScrollPosition - lastScrollPosition) / (now - lastScrollTime || 1);
        lastScrollPosition = currentScrollPosition;
        lastScrollTime = now;
      }, { passive: false });

      carouselTrack.addEventListener('touchend', () => {
        if (!isTouching) return;
        isTouching = false;

        if (Math.abs(velocity) > 0.5) {
          const inertiaDistance = velocity * 200;
          const targetPosition = currentScrollPosition + inertiaDistance;
          smoothScrollTo(targetPosition, 400);
        } else {
          if (totalCardWidth > 0) {
            const nearestCardPosition = Math.round(currentScrollPosition / totalCardWidth) * totalCardWidth;
            smoothScrollTo(nearestCardPosition);
          }
        }

        checkInfiniteLoop();
        updateGradientFades();
        velocity = 0;
      }, { passive: true });

      carouselTrack.addEventListener('mousedown', (e) => {
        if (animationFrameId) {
          cancelAnimationFrame(animationFrameId);
          animationFrameId = null;
        }
        isScrolling = false;
        isDragging = true;
        dragStartX = e.clientX;
        dragStartScroll = currentScrollPosition;
        carouselContainer.style.cursor = 'grabbing';
        e.preventDefault();
      });

      document.addEventListener('mousemove', (e) => {
        if (!isDragging) return;

        const deltaX = dragStartX - e.clientX;
        currentScrollPosition = dragStartScroll + deltaX;
        carouselTrack.style.transform = `translateX(-${currentScrollPosition}px)`;
        carouselTrack.style.transition = 'none';

        checkInfiniteLoop();

        const now = performance.now();
        velocity = (currentScrollPosition - lastScrollPosition) / (now - lastScrollTime || 1);
        lastScrollPosition = currentScrollPosition;
        lastScrollTime = now;
      });

      document.addEventListener('mouseup', () => {
        if (!isDragging) return;
        isDragging = false;
        carouselContainer.style.cursor = 'grab';

        if (Math.abs(velocity) > 0.5) {
          const inertiaDistance = velocity * 200;
          const targetPosition = currentScrollPosition + inertiaDistance;
          smoothScrollTo(targetPosition, 400);
        } else {
          if (totalCardWidth > 0) {
            const nearestCardPosition = Math.round(currentScrollPosition / totalCardWidth) * totalCardWidth;
            smoothScrollTo(nearestCardPosition);
          }
        }

        checkInfiniteLoop();
        updateGradientFades();
        velocity = 0;
      });

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => {
          setTimeout(() => {
            setupInfiniteLoop();
            updateGradientFades();
          }, 100);
        });
      } else {
        setTimeout(() => {
          setupInfiniteLoop();
          updateGradientFades();
        }, 100);
      }

      let resizeTimeout;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
          calculateCardWidth();
          const startClonesWidth = ORIGINAL_CARD_COUNT * totalCardWidth;
          currentScrollPosition = startClonesWidth;
          carouselTrack.style.transition = 'none';
          carouselTrack.style.transform = `translateX(-${currentScrollPosition}px)`;
          void carouselTrack.offsetWidth;
          carouselTrack.style.transition = '';
          updateGradientFades();
        }, 100);
      });
    })();
  </script>

  <!-- Remote modal interactions -->
  <script>
    (() => {
      const REMOTE_DATA = {
        'L56': {
          image: 'image/Atomberg/Atomberg Remote 001.2270.webp',
          images: [
            'image/Atomberg/Atomberg Remote 001.2270.webp',
            'image/Atomberg/Atomberg Remote 001.2271.webp',
            'image/Atomberg/Atomberg Remote 001.2272.webp',
            'image/Atomberg/Atomberg Remote 001.2273.webp'
          ],
          title: 'L56',
          subtitle: 'Premium Control',
          description: 'Our premium ceiling fan remote is engineered to deliver advanced functionality, enhanced comfort, and improved energy efficiency.',
          specs: [
            { label: 'Range', value: '15+ Meter' },
            { label: 'Type', value: 'IR' },
            { label: 'Speed Control', value: 'Multi-speed with 6 precision settings' },
            { label: 'Features', value: 'Smart sleep mode, Timer, LED control' },
            { label: 'Design', value: 'Premium, Advanced functionality' }
          ]
        },
        'L48': {
          image: 'image/Orient/Orient Fan.2312.webp',
          images: [
            'image/Orient/Orient Fan.2312.webp',
            'image/Orient/Orient Fan.2314.webp',
            'image/Orient/Orient Fan.2316.webp',
            'image/Orient/Orient Fan.2317.webp'
          ],
          title: 'L48',
          subtitle: 'Classic Design',
          description: 'A dependable and intuitive remote control system for ceiling fans, designed to offer seamless operation with all the essential features.',
          specs: [
            { label: 'Range', value: '20+ Meter' },
            { label: 'Type', value: 'IR/RF' },
            { label: 'Speed Control', value: '5-speed for optimal airflow' },
            { label: 'Features', value: 'Timer up to 8 hours, Energy-saving mode, Boost' },
            { label: 'Design', value: 'Dependable, Intuitive' }
          ]
        },
        'L91': {
          image: 'image/havells/Havells Pebble Remote.2320.webp',
          images: [
            'image/havells/Havells Pebble Remote.2320.webp',
            'image/havells/Havells Pebble Remote.2321.webp',
            'image/havells/Havells Pebble Remote.2322.webp',
            'image/havells/Havells Pebble Remote.2323.webp'
          ],
          title: 'L91',
          subtitle: 'Universal Compatibility',
          description: 'A versatile remote control solution compatible with most ceiling and pedestal fans, delivering essential features for seamless everyday use.',
          specs: [
            { label: 'Range', value: '20+ Meter' },
            { label: 'Type', value: 'IR/RF' },
            { label: 'Speed Control', value: '5-speed control' },
            { label: 'Features', value: 'Timer, Sleep Mode, Wide compatibility' },
            { label: 'Design', value: 'Versatile, Essential features' }
          ]
        },
        'FR1': {
          image: 'image/Fan Remote 1/Fan Remote 1.3633.webp',
          images: [
            'image/Fan Remote 1/Fan Remote 1.3633.webp',
            'image/Fan Remote 1/Fan Remote 1.3638.webp',
            'image/Fan Remote 1/Fan Remote 1.3639.webp',
            'image/Fan Remote 1/Fan Remote 1.3640.webp',
            'image/Fan Remote 1/Fan Remote 1.3641.webp'
          ],
          title: 'FR1',
          subtitle: 'Modern Design',
          description: 'A contemporary fan remote control featuring sleek design and intuitive controls for enhanced user experience and modern home aesthetics.',
          specs: [
            { label: 'Range', value: '18+ Meter' },
            { label: 'Type', value: 'IR/RF' },
            { label: 'Speed Control', value: '6-speed precision control' },
            { label: 'Features', value: 'Timer, Natural breeze mode, LED indicator' },
            { label: 'Design', value: 'Modern, Sleek, Intuitive' }
          ]
        },
        'FR2': {
          image: 'image/Fan Remote 2/Fan Remote 2.bip.3642.webp',
          images: [
            'image/Fan Remote 2/Fan Remote 2.bip.3642.webp',
            'image/Fan Remote 2/Fan Remote 2.bip.3643.webp',
            'image/Fan Remote 2/Fan Remote 2.bip.3644.webp',
            'image/Fan Remote 2/Fan Remote 2.bip.3645.webp',
            'image/Fan Remote 2/Fan Remote 2.bip.3646.webp'
          ],
          title: 'FR2',
          subtitle: 'Sleek Control',
          description: 'An elegantly designed remote control offering smooth operation and premium feel, perfect for discerning users seeking style and functionality.',
          specs: [
            { label: 'Range', value: '20+ Meter' },
            { label: 'Type', value: 'IR/RF' },
            { label: 'Speed Control', value: '5-speed with boost mode' },
            { label: 'Features', value: 'Sleep timer, Reverse mode, Energy saving' },
            { label: 'Design', value: 'Elegant, Premium, Smooth operation' }
          ]
        },
        'FR3': {
          image: 'image/Fan Remote 3/Fan Remote 3.bip.3648.webp',
          images: [
            'image/Fan Remote 3/Fan Remote 3.bip.3648.webp',
            'image/Fan Remote 3/Fan Remote 3.bip.3649.webp',
            'image/Fan Remote 3/Fan Remote 3.bip.3650.webp',
            'image/Fan Remote 3/Fan Remote 3.bip.3651.webp',
            'image/Fan Remote 3/Fan Remote 3.bip.3652.webp'
          ],
          title: 'FR3',
          subtitle: 'Advanced Features',
          description: 'A feature-rich remote control solution with advanced capabilities including smart home integration and comprehensive fan control options.',
          specs: [
            { label: 'Range', value: '22+ Meter' },
            { label: 'Type', value: 'IR/RF' },
            { label: 'Speed Control', value: '7-speed with fine adjustment' },
            { label: 'Features', value: 'Smart home ready, Timer, Sleep mode, Light control' },
            { label: 'Design', value: 'Advanced, Feature-rich, Smart integration' }
          ]
        },
        'FR4': {
          image: 'image/Fan Remote 4/Fan Remote 4.bip.3653.webp',
          images: [
            'image/Fan Remote 4/Fan Remote 4.bip.3653.webp',
            'image/Fan Remote 4/Fan Remote 4.bip.3654.webp',
            'image/Fan Remote 4/Fan Remote 4.bip.3655.webp',
            'image/Fan Remote 4/Fan Remote 4.bip.3656.webp',
            'image/Fan Remote 4/Fan Remote 4.bip.3657.webp'
          ],
          title: 'FR4',
          subtitle: 'Premium Quality',
          description: 'A premium-grade remote control built with superior materials and engineering, delivering exceptional durability and performance for long-term reliability.',
          specs: [
            { label: 'Range', value: '25+ Meter' },
            { label: 'Type', value: 'IR/RF' },
            { label: 'Speed Control', value: '6-speed with natural breeze mode' },
            { label: 'Features', value: 'Extended timer, Reverse operation, Premium build' },
            { label: 'Design', value: 'Premium, Durable, Long-lasting' }
          ]
        }
      };

      const modal = document.getElementById('remoteModal');
      const modalImage = document.getElementById('modalRemoteImage');
      const modalThumbnails = document.getElementById('modalImageThumbnails');
      const modalTitle = document.getElementById('modalRemoteTitle');
      const modalSubtitle = document.getElementById('modalRemoteSubtitle');
      const modalDescription = document.getElementById('modalRemoteDescription');
      const modalSpecs = document.getElementById('modalRemoteSpecs');
      const modalClose = document.querySelector('.remote-modal-close');
      const modalBackdrop = document.querySelector('.remote-modal-backdrop');
      const modalCarouselPrev = document.querySelector('.modal-carousel-prev');
      const modalCarouselNext = document.querySelector('.modal-carousel-next');

      let currentImages = [];
      let currentImageIndex = 0;
      let savedScrollPosition = 0;

      function changeModalImage(index) {
        if (currentImages.length === 0) return;
        currentImageIndex = (index + currentImages.length) % currentImages.length;

        modalImage.style.opacity = '0';
        setTimeout(() => {
          modalImage.src = currentImages[currentImageIndex];
          modalImage.alt = `${REMOTE_DATA[modalTitle.textContent.trim()]?.title || 'Remote'} - View ${currentImageIndex + 1}`;
          modalImage.style.opacity = '1';
        }, 150);

        const thumbnails = modalThumbnails.querySelectorAll('.modal-thumbnail');
        thumbnails.forEach((thumb, i) => {
          thumb.classList.toggle('active', i === currentImageIndex);
        });
      }

      function updateCarouselVisibility() {
        const hasMultipleImages = currentImages.length > 1;
        if (modalCarouselPrev) {
          modalCarouselPrev.style.display = hasMultipleImages ? 'flex' : 'none';
        }
        if (modalCarouselNext) {
          modalCarouselNext.style.display = hasMultipleImages ? 'flex' : 'none';
        }
        if (modalThumbnails) {
          modalThumbnails.style.display = hasMultipleImages ? 'flex' : 'none';
        }
      }

      function nextModalImage() {
        const nextIndex = (currentImageIndex + 1) % currentImages.length;
        changeModalImage(nextIndex);
      }

      function prevModalImage() {
        const prevIndex = (currentImageIndex - 1 + currentImages.length) % currentImages.length;
        changeModalImage(prevIndex);
      }

      if (modalCarouselNext) {
        modalCarouselNext.addEventListener('click', (e) => {
          e.stopPropagation();
          nextModalImage();
        });
      }

      if (modalCarouselPrev) {
        modalCarouselPrev.addEventListener('click', (e) => {
          e.stopPropagation();
          prevModalImage();
        });
      }

      function openModal(remoteName) {
        const data = REMOTE_DATA[remoteName];
        if (!data) return;

        currentImages = data.images || [data.image];
        currentImageIndex = 0;

        modalImage.src = currentImages[0];
        modalImage.alt = data.title;

        modalThumbnails.innerHTML = '';
        currentImages.forEach((imgSrc, index) => {
          const thumbnail = document.createElement('div');
          thumbnail.className = 'modal-thumbnail' + (index === 0 ? ' active' : '');
          thumbnail.innerHTML = `<img src="${imgSrc}" alt="${data.title} - View ${index + 1}" />`;
          thumbnail.addEventListener('click', () => {
            changeModalImage(index);
          });
          modalThumbnails.appendChild(thumbnail);
        });

        modalTitle.textContent = data.title;
        modalSubtitle.textContent = data.subtitle;
        modalDescription.textContent = data.description;

        modalSpecs.innerHTML = '';
        data.specs.forEach(spec => {
          const specItem = document.createElement('div');
          specItem.className = 'spec-item';
          specItem.innerHTML = `
              <div class="spec-label">${spec.label}</div>
              <div class="spec-value">${spec.value}</div>
            `;
          modalSpecs.appendChild(specItem);
        });

        // Save scroll position
        savedScrollPosition = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;

        // Prevent body scroll
        document.body.style.overflow = 'hidden';
        document.body.style.position = 'fixed';
        document.body.style.top = `-${savedScrollPosition}px`;
        document.body.style.width = '100%';
        document.body.style.left = '0';
        document.body.style.right = '0';

        document.body.classList.add('modal-open');
        modal.classList.add('active');
        updateCarouselVisibility();
      }

      function closeModal() {
        modal.classList.remove('active');
        document.body.classList.remove('modal-open');

        // Restore body styles
        document.body.style.overflow = '';
        document.body.style.position = '';
        document.body.style.top = '';
        document.body.style.width = '';
        document.body.style.left = '';
        document.body.style.right = '';

        // Restore scroll position after a brief delay to ensure styles are reset
        requestAnimationFrame(() => {
          window.scrollTo(0, savedScrollPosition);
          savedScrollPosition = 0;
        });
      }

      // Attach click handlers to cards (including clones)
      const collectionCards = document.querySelectorAll('.collection-card');
      collectionCards.forEach(card => {
        card.style.cursor = 'pointer';
        card.addEventListener('click', (e) => {
          if (e.target.closest('.carousel-btn')) return;
          const titleElement = card.querySelector('.collection-card-title');
          if (titleElement) {
            openModal(titleElement.textContent.trim());
          }
        });
      });

      modalClose?.addEventListener('click', closeModal);
      modalBackdrop?.addEventListener('click', closeModal);
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.classList.contains('active')) {
          closeModal();
        }
      });

      const modalBody = document.querySelector('.remote-modal-body');
      const modalInfoSection = document.querySelector('.remote-modal-info-section');

      modalBody?.addEventListener('wheel', (e) => e.stopPropagation(), { passive: false });
      modalBody?.addEventListener('touchmove', (e) => e.stopPropagation(), { passive: false });
      modalInfoSection?.addEventListener('wheel', (e) => e.stopPropagation(), { passive: false });
      modalInfoSection?.addEventListener('touchmove', (e) => e.stopPropagation(), { passive: false });
    })();
  </script>

</body>

</html>